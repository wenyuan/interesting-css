# CSS 选择符

## 1. 一般选择符

* 类型选择符（通过元素名指定）
* ID 选择符（由井号 `#` 开头）
* 类选择符（由句点 `.` 开头）

可以将类型选择符和类选择符结合使用，以指定特定的 HTML 元素下特定 class 的样式。  

实例：  
```css
p.date-postd {
  color: #ccc;
}
```

## 2. 组合选择符

* 后代选择符（以空格分隔）
* 子选择符（以大于号分隔）
* 相邻同辈选择符（以加号分隔）
* 一般同辈选择符（以波浪号分隔）

### 2.1 后代选择符

后代选择符的写法是在两个选择符之间添加空格，用于选取某个或某组元素的所有后代元素。  

实例：  
```css
/* 只有作为块引用后代的段落元素会被选中，从而缩进，其他段落都不会缩进 */
blockquote p {
  padding-left: 2em;
}
```

### 2.2 子选择符

子选择符的写法是在两个选择符之间添加大于号，与后代选择符不同，它只选择一个元素的直接后代，也就是子元素。  

实例：  
```css
/* 选择了 div 元素中所有直接子元素 p */
div > p {
  background-color: yellow;
}
```

### 2.3 相邻同辈选择符

相邻同辈选择符的写法是在两个选择符之间使用加号，它可以选择**紧接在**某个元素后面，并与该元素拥有共同父元素的元素。  

实例：
```css
/* 选择了 div 元素后的第一个 p 元素 */
div + p {
  background-color: yellow;
}
```
这样选择 div  元素后的第一个段落是可行的，但更简单、更容易维护的方式，还是为这一段增加一个类名。

### 2.4 一般同辈选择符

一般同辈选择符的写法是在两个选择符之间使用波浪号，它可以选择**所有**指定元素之后的相邻兄弟元素。  

实例：
```css
/* 选择了 div 元素后的所有 p 元素 */
div ~ p {
  background-color: yellow;
}
```

注：相邻同辈选择符和一般同辈选择符都不会选择前面的同辈元素，这是因为浏览器会按照元素在页面中出现的先后次序给它们应用样式。

## 3. 通用选择符

通用选择符可以匹配任何元素，使用星号表示。  

实例：
```css
* {
  padding: 0;
  margin:0;
}
```
但这样写可能带来很多意想不到的后果，特别是会影响 button、select 等表单元素。如果想重设样式，最好还是像下面这样明确指定元素：  
```css
h1, h2, h3, h4, h5, h6,
ul, ol, li, dl, p {
  padding: 0;
  margin: 0;
}
```

## 4. 属性选择符

属性选择符基于元素是否有某个属性或者属性是否有某个值来选择元素。

### 4.1 根据是否有某个属性

实例：  
当鼠标指针悬停在某个带有 `title` 属性的元素上时，多数浏览器都会显示一个提示条。利用这种行为，可以借助 `<abbr>` 元素对某些缩写词给出详尽的解释：
```html
<p>I'm reading a book called you don't know <abbr title="JavaScript">js</abbr>.</p>
```
可是，如果不把鼠标放在这个元素上，谁也不知道它还会显示缩写词的解释。为此，可以使用属性选择符给带有 `title` 属性的 `abbr` 元素添加不同的样式，比如在缩写词下面加一条点划线，然后把悬停状态的鼠标指针改成问好。
```css
abbr[title] {
  border-bottom: 1px dotted #999;
}

abbr[title]:hover {
  cursor: help;
}
```

### 4.2 根据属性是否有某个值

除了可以根据是否存在某个属性来选择元素，还可以根据特定的属性值来应用样式。  

实例：  
下面这个例子可以用来修正一个问题，即鼠标悬停在提交按钮上时，不同浏览器显示的光标不一致。有了这条规则，所有 `type` 属性值为 `submit` 的 `input` 元素在鼠标指针悬停时，都会显示一个手状光标。

```css
input[type="submit"] {
  cursor: pointer;
}
```

有时候我们关心的是属性值是否匹配某个模式，而非某个特定值。这时候，通过给属性选择符中的等号前面加上特殊字符，就可以表达出想要匹配的值的形式了。  

在属性选择符中常用的特殊字符如下表所示：

|选择器|描述|
|:--- |:--|
|`a[href^="http:"`]|要匹配以某些字符开头的属性值，在等号前面加上插入符（`^`）。|
|`img[src$=".jpg"`]|要匹配以某些字符结尾的属性值，在等号前面加上美元符号（`$`）|
|`a[href*="/about/"]`|要匹配包含某些字符的属性值，在等号前面加上星号（`*`）。|
|`a[rel~=next]`|要匹配以空格分隔的字符串中属性值（比如 `rel` 属性的值），在等号前面加上波浪号（`~`）。|
|`a[lang|=en]`|要匹配开头是指定值或者指定值后连着一个短划线的情况，比如 `en` 和 `en-us`，在等号前面加上竖线（`|`）。这种方式不常用。|


## 参考资料
* 《精通CSS 高级Web标准解决方案（第3版）》
